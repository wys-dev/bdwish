<!DOCTYPE html>
<html>
<!-- https://github.com/ayusharma/birthday/blob/master/effect.js -->



<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MaMa's Birthday</title>
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400" rel="stylesheet">
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <audio id="song" loop>
        <source src="hbd.mp3">
        </source>
        Your browser isn't invited for super fun audio time.
    </audio>


    <div class="bdimage">

        <div id="bdimage">
            <div id="top-img">
                <img id="heart" src="https://cdn.pixabay.com/photo/2024/03/27/20/21/ai-generated-8659835_1280.jpg"
                    alt="">
            </div>
            <div class="middle">
                <h3>မွေးနေ့လက်ဆောင်ရဖို့ ရင်ခုန်နေပြီလား?</h3>
                <hr>
                <p id="tzw" class="countdown"></p>
            </div>
        </div>

        <div id="giftbox">
            <div class="birthday-gift">
                <div class="gift">
                    <input id='click' type='checkbox'>
                    <label class='click'></label>
                    <div class="wishes">Happy Birthday!</div>
                    <div class="sparkles">
                        <div class="spark1"></div>
                        <div class="spark2"></div>
                        <div class="spark3"></div>
                        <div class="spark4"></div>
                        <div class="spark5"></div>
                        <div class="spark6"></div>
                    </div>
                </div>
            </div>

            <button onclick="openbox()">Tap to open</button>
        </div>


        <div class="container " id="wish-message-container">
            <div class="one">
                <h1 class="one">
                    <span data-node-name="greeting">Hey</span>
                    <span data-node-name="name">Lydia</span>
                </h1>
                <p class="two" data-node-name="greetingText">I really like your name btw!</p>
            </div>
            <div class="three">
                <p data-node-name="text1">It's your birthday!!! :D</p>
            </div>
            <div class="four">
                <div class="text-box">
                    <p class="hbd-chatbox" data-node-name="textInChatBox">Happy birthday to you!! Yeee! Many many happy
                        blah...</p>
                    <p class="fake-btn" data-node-name="sendButtonLabel">Send</p>
                </div>
            </div>
            <div class="five">
                <p class="idea-1" data-node-name="text2">That's what I was going to do.</p>
                <p class="idea-2" data-node-name="text3">But then I stopped.</p>
                <p class="idea-7" data-node-name="text4">But then I stopped.</p>
                <p class="idea-8" data-node-name="text5">But then I stopped.</p>
                <p class="idea-9" data-node-name="text6">But then I stopped.</p>
                <p class="idea-3">
                    <span data-node-name="text7">I realised, I wanted to do something</span>
                    <strong data-node-name="text4Adjective">special</strong>.
                </p>
                <p class="idea-4" data-node-name="text5Entry">Because,</p>
                <p class="idea-5">
                    <span data-node-name="text5Content">You are Special</span>
                    <span class="smiley" data-node-name="smiley">:)</span>
                </p>
                <p class="idea-10" data-node-name="text8">But then I stopped.</p>


            </div>
            <div class="six">
                <img src="img/lydia2.png" alt="" class="lydia-dp" data-node-name="imagePath">
                <img src="img/hat.svg" alt="" class="hat">
                <div class="wish">
                    <h3 class="wish-hbd" data-node-name="wishHeading">Happy Birthday!</h3>
                    <h5 data-node-name="wishText">May the js.prototypes always be with you! ;)</h5>
                </div>
            </div>
            <div class="seven">
                <div class="baloons">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon2.svg" alt="">
                    <img src="img/ballon1.svg" alt="">
                    <img src="img/ballon3.svg" alt="">
                </div>
            </div>
            <div class="eight">
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" />
                </svg>
            </div>
            <div class="nine">
                <p data-node-name="outroText"></p>
                <p id="replay" data-node-name="replayText">နှိပ်ပေးပါနော် ထပ်ကြည့်လို့ရအောင်.</p>
                <p class="last-smile" data-node-name="outroSmiley">:)</p>
            </div>
        </div>



    </div>



    <script>
        // document.addEventListener('DOMContentLoaded', function () {
        //     console.log('load');
        //     var audio = document.getElementById('song');
        //     var played = false;

        //     document.body.addEventListener('click', function () {
        //         if (!played) {
        //             audio.play();
        //             played = true;
        //         }
        //     });
        // });

        var countDownDate = new Date("April 13, 2024 00:00:00").getTime();

        var countdownfunction = setInterval(function () {
            var now = new Date().getTime();
            var distance = countDownDate - now;
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            document.getElementById('wish-message-container').onclick = null;
            document.getElementById("tzw").innerHTML = days + "ရက် " + hours + "နာရီ "
                + minutes + "မိနစ် " + seconds + "စက္ကန့် ";

            if (distance < 0) {
                clearInterval(countdownfunction);

                document.getElementById("tzw").innerHTML = "HAPPY BIRTHDAY မ မွေးနေ့မှာပျော်ရွှင်ပါစေနော် မ";

                var element = document.getElementById('bdimage');
                element.style.display = 'none';

                var element = document.getElementById('giftbox');
                element.style.display = 'block';

            }

        }, 1000);



        const openbox = () => {
            var checkbox = document.getElementById('click');
            checkbox.checked = !checkbox.checked;

            console.log('load');
            var audio = document.getElementById('song');
            var played = false;

            document.body.addEventListener('click', function () {
                if (!played) {
                    audio.play();
                    played = true;
                }
            });
            setTimeout(() => {
                var element = document.getElementById('giftbox');
                element.style.display = 'none';

                var element = document.getElementById('wish-message-container');
                element.style.display = 'block';

                fetchDataAndRunAnimation();
            }, 3000);

        }

        // Function to fetch data and run animation
        const fetchDataAndRunAnimation = () => {
            // Fetch data from JSON file
            fetch("customize.json")
                .then(data => data.json())
                .then(data => {
                    // Customize and insert data into the page
                    customizePage(data);
                    // Run animation after customization
                    animationTimeline();
                });
        };

        // Function to customize and insert data into the page
        const customizePage = (data) => {
            const dataArr = Object.keys(data);
            dataArr.forEach(customData => {
                if (data[customData] !== "") {
                    if (customData === "imagePath") {
                        document.querySelector(`[data-node-name*="${customData}"]`).setAttribute("src", data[customData]);
                    } else {
                        document.querySelector(`[data-node-name*="${customData}"]`).innerText = data[customData];
                    }
                }
            });
        };
        // Animation Timeline
        const animationTimeline = () => {
            // Spit chars that needs to be animated individually
            const textBoxChars = document.getElementsByClassName("hbd-chatbox")[0];
            const hbd = document.getElementsByClassName("wish-hbd")[0];

            textBoxChars.innerHTML = `<span>${textBoxChars.innerHTML
                .split("")
                .join("</span><span>")}</span`;

            hbd.innerHTML = `<span>${hbd.innerHTML
                .split("")
                .join("</span><span>")}</span`;

            const ideaTextTrans = {
                opacity: 0,
                y: -20,
                rotationX: 5,
                skewX: "15deg"
            };

            const ideaTextTransLeave = {
                opacity: 0,
                y: 20,
                rotationY: 5,
                skewX: "-15deg"
            };

            const tl = new TimelineMax();

            tl
                .to(".container", 0.1, {
                    visibility: "visible"
                })
                .from(".one", 0.7, {
                    opacity: 0,
                    y: 10
                })
                .from(".two", 0.4, {
                    opacity: 0,
                    y: 10
                })
                .to(
                    ".one",
                    0.7,
                    {
                        opacity: 0,
                        y: 10
                    },
                    "+=4"
                )
                .to(
                    ".two",
                    0.7,
                    {
                        opacity: 0,
                        y: 10
                    },
                    "-=1"
                )
                .from(".three", 0.7, {
                    opacity: 0,
                    y: 10
                    // scale: 0.7
                })
                .to(
                    ".three",
                    0.7,
                    {
                        opacity: 0,
                        y: 10
                    },
                    "+=2"
                )
                .from(".four", 0.7, {
                    scale: 0.2,
                    opacity: 0
                })
                .from(".fake-btn", 0.3, {
                    scale: 0.2,
                    opacity: 0
                })
                .staggerTo(
                    ".hbd-chatbox span",
                    0.5,
                    {
                        visibility: "visible"
                    },
                    0.05
                )
                .to(".fake-btn", 0.1, {
                    backgroundColor: "rgb(127, 206, 248)"
                })
                .to(
                    ".four",
                    0.5,
                    {
                        scale: 0.2,
                        opacity: 0,
                        y: -150
                    },
                    "+=1.5"
                )
                .from(".idea-1", 0.7, ideaTextTrans)
                .to(".idea-1", 0.7, ideaTextTransLeave, "+=2.5")
                .from(".idea-2", 0.7, ideaTextTrans)
                .to(".idea-2", 0.7, ideaTextTransLeave, "+=2.5")
                .from(".idea-7", 0.7, ideaTextTrans)
                .to(".idea-7", 0.7, ideaTextTransLeave, "+=2.5")
                .from(".idea-8", 0.7, ideaTextTrans)
                .to(".idea-8", 0.7, ideaTextTransLeave, "+=2.5")
                .from(".idea-9", 0.7, ideaTextTrans)
                .to(".idea-9", 0.7, ideaTextTransLeave, "+=3.5")
                .from(".idea-10", 0.7, ideaTextTrans)
                .to(".idea-10", 0.7, ideaTextTransLeave, "+=3.5")
                .from(".idea-3", 0.7, ideaTextTrans)
                .to(".idea-3 strong", 0.5, {
                    scale: 1,
                    x: 10,
                    backgroundColor: "rgb(21, 161, 237)",
                    color: "#fff"
                })
                .to(".idea-3", 0.7, ideaTextTransLeave, "+=4")
                .from(".idea-4", 0.7, ideaTextTrans)
                .to(".idea-4", 0.7, ideaTextTransLeave, "+=3.5")
                .from(
                    ".idea-5",
                    0.7,
                    {
                        // rotationX: 15,
                        // rotationZ: -10,
                        // skewY: "-5deg",
                        y: 50,
                        z: 10,
                        opacity: 0
                    },
                    "+=0.5"
                )
                .to(
                    ".idea-5 .smiley",
                    0.7,
                    {
                        rotation: 90,
                        x: 8
                    },
                    "+=0.4"
                )
                .to(
                    ".idea-5",
                    0.7,
                    {
                        scale: 0.2,
                        opacity: 0
                    },
                    "+=2"
                )
                .staggerFrom(
                    ".idea-6 span",
                    0.8,
                    {
                        scale: 3,
                        opacity: 0,
                        rotation: 15,
                        ease: Expo.easeOut
                    },
                    0.2
                )
                .staggerTo(
                    ".idea-6 span",
                    0.8,
                    {
                        scale: 3,
                        opacity: 0,
                        rotation: -15,
                        ease: Expo.easeOut
                    },
                    0.2,
                    "+=1"
                )

                .from(
                    ".lydia-dp",
                    0.5,
                    {
                        scale: 3.5,
                        opacity: 0,
                        x: 25,
                        y: -25,
                        rotationZ: -45
                    },
                    "-=2"
                )
                .from(".hat", 0.5, {
                    x: -100,
                    y: 350,
                    rotation: -180,
                    opacity: 0
                })
                .staggerFrom(
                    ".wish-hbd span",
                    0.7,
                    {
                        opacity: 0,
                        y: -50,
                        // scale: 0.3,
                        rotation: 150,
                        skewX: "30deg",
                        ease: Elastic.easeOut.config(1, 0.5)
                    },
                    0.1
                )
                .staggerFromTo(
                    ".wish-hbd span",
                    0.7,
                    {
                        scale: 1.4,
                        rotationY: 150
                    },
                    {
                        scale: 1,
                        rotationY: 0,
                        color: "#ff69b4",
                        ease: Expo.easeOut
                    },
                    0.1,
                    "party"
                )
                .from(
                    ".wish h5",
                    0.5,
                    {
                        opacity: 0,
                        y: 10,
                        skewX: "-15deg"
                    },
                    "party"
                )
                .staggerFromTo(
                    ".baloons img",
                    2.5,
                    {
                        opacity: 0.9,
                        y: 1400
                    },
                    {
                        opacity: 1,
                        y: -1000
                    },
                    0.2
                )

                .to(".six", 0.5, {
                    opacity: 0,
                    y: 30,
                    zIndex: "-1"
                })
                .staggerFrom(".nine p", 1, ideaTextTrans, 1.2)
                .to(
                    ".last-smile",
                    0.5,
                    {
                        rotation: 90
                    },
                    "+=1"
                );

            // tl.seek("currentStep");
            // tl.timeScale(2);

            // Restart Animation on click
            const replyBtn = document.getElementById("replay");
            replyBtn.addEventListener("click", () => {
                tl.restart();
            });
        };


    </script>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<!-- <script type="application/javascript" src="script/main.js"></script> -->

</html>